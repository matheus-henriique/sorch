<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SORCH | Login</title>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./css/main.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anton+SC&display=swap" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            white_color: '#da373d',
            emphasis: '#322745',
            font_color: '#281F38',
          },
          fontFamily: {
            anton_sc: ["Anton SC", "sans-serif"],
          }
        }
      }
    }
  </script>
</head>
<body>
  <div class="flex justify-center items-center flex-col h-dvh">
    <div class="mb-16 font-bold text-emphasis font-anton_sc text-6xl">SORCH</div>
    
    <div class="flex flex-col w-full max-w-xs">
        <form class="flex flex-col gap-3">
            <div class="flex flex-col">
                <label for="" class="text-font_color font-bold">Username</label>
                <input type="email" name="email" id="userEmail" class="h-11 pl-3 border-font_color border rounded-lg">
            </div>
            <div class="flex flex-col">
                <label for="" class="text-font_color font-bold">Password</label>
                <input type="password" name="password" id="userPassword" class="h-11 pl-3 border-font_color border rounded-lg">
            </div>
        </form>
    
        <div id="login" class="w-full h-11 flex justify-center items-center rounded-lg font-bold mt-14 bg-black bg-emphasis text-white cursor-pointer">
            Login
        </div>
    </div>
  </div>
</body>

<script>
  const user = {
    username: "flordoparaiso@gmail.com",
    password: "km12"
  }
    function login(username, password) {

      if(!validarEmail(username) && username !== user.username) {
        return messageError("E-mail ou senha inválido.", $("#userPassword"));
      }

      if(password !== user.password) {
        return messageError("E-mail ou senha inválido.", $("#userPassword"));
      }

      window.location.href = `./views/painel.html`;
    }

    function validarEmail(email) {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return regex.test(email);
    }

    function messageError(message, element) {
      $("#msgErrorFiel").remove();
      $(`<p id="msgErrorFiel" class="mt-5 text-red-500">${message}</p>`).insertAfter(element);
    }

    $("#login").on('click', () => {
      login($("#userEmail").val(), $("#userPassword").val());
    });
</script>
</html>